<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Advanced Bookmark Manager - Organize Your Digital Life</title>
    <meta name="description" content="A cutting-edge bookmark management system with AI-powered organization, social media integration, and advanced search capabilities.">
    
    <!-- Preload critical resources -->
    <link rel="preload" href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=JetBrains+Mono:wght@400;500&display=swap" as="style">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    
    <!-- Progressive Web App -->
    <link rel="manifest" href="data:application/json;base64,eyJuYW1lIjoiQWR2YW5jZWQgQm9va21hcmsgTWFuYWdlciIsInNob3J0X25hbWUiOiJCb29rbWFya3MiLCJzdGFydF91cmwiOiIvIiwiZGlzcGxheSI6InN0YW5kYWxvbmUiLCJiYWNrZ3JvdW5kX2NvbG9yIjoiIzBmMTQxOSIsInRoZW1lX2NvbG9yIjoiIzM3MzNmZiIsImljb25zIjpbeyJzcmMiOiJkYXRhOmltYWdlL3N2Zyt4bWw7YmFzZTY0LFBITjJaeUI0Yld4dWN6MGlhSFIwY0RvdkwzZDNkeTUzTXk1dmNtY3ZNakF3TUM5emRtY2lJSGRwWkhSb1BTSXlOQ0VpSUdobGFXZG9kRDBpTWpRaUlIWnBaWGRDYjNnOUlqQWdNQ0F5TkNBeU5DSStQSEJoZEdnZ1pEMGlUVEV5SURKRFFqRXlJREUyTGpVZ01UQXVOVEVnTVRZdU5TQTVRekV3TGpVeElEY3VOalFnT0M0Mk5DQTJJRGNnTmtNM0lEUXVNelFnT0M0Mk5DQXlMak0wSURFeUlESWdNVElnTWtNeE5TNDJOaUF5SURFNUxqTTJJRFF1TXpRZ01qRWdOME14T1M0Mk5pQTVMalkwSURFMkxqVXhJREV4TGpNMklERXlJREUwVmpFd1F6RXlJRGd1TmpRZ09TNDJOaUEzTGpZMElEY2dOME0wTGpNMElEY2dNaTR6TkNBNExqWTBJREV1TmpZZ01USWdNa1l4TWlBeVdpSWdabWxzYkQwaVl6QXdNREZHUmlJdlBqd3ZjM1puUGc9PSIsInNpemVzIjoiMjR4MjQiLCJ0eXBlIjoiaW1hZ2Uvc3ZnK3htbCJ9XX0=">
    <meta name="theme-color" content="#3733ff">
    
    <!-- Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=JetBrains+Mono:wght@400;500&display=swap" rel="stylesheet">
    
    <!-- Added Font Awesome for original social media icons -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    
    <style>
        /* CSS Custom Properties for theming */
        :root {
            --primary-hue: 240;
            --primary-sat: 100%;
            --primary-light: 60%;
            --primary: hsl(var(--primary-hue), var(--primary-sat), var(--primary-light));
            --primary-dark: hsl(var(--primary-hue), var(--primary-sat), 45%);
            --primary-light-bg: hsl(var(--primary-hue), var(--primary-sat), 95%);
            
            --secondary: hsl(280, 100%, 70%);
            --accent: hsl(45, 100%, 60%);
            
            --bg-primary: hsl(222, 84%, 5%);
            --bg-secondary: hsl(222, 84%, 8%);
            --bg-tertiary: hsl(222, 84%, 12%);
            --bg-card: hsl(222, 84%, 10%);
            
            --text-primary: hsl(210, 40%, 98%);
            --text-secondary: hsl(215, 20%, 65%);
            --text-muted: hsl(215, 20%, 45%);
            
            --border: hsl(217, 32%, 17%);
            --border-hover: hsl(217, 32%, 25%);
            
            --shadow-sm: 0 1px 2px 0 rgb(0 0 0 / 0.05);
            --shadow: 0 1px 3px 0 rgb(0 0 0 / 0.1), 0 1px 2px -1px rgb(0 0 0 / 0.1);
            --shadow-lg: 0 10px 15px -3px rgb(0 0 0 / 0.1), 0 4px 6px -4px rgb(0 0 0 / 0.1);
            --shadow-xl: 0 20px 25px -5px rgb(0 0 0 / 0.1), 0 8px 10px -6px rgb(0 0 0 / 0.1);
            
            --font-sans: 'Inter', system-ui, -apple-system, sans-serif;
            --font-mono: 'JetBrains Mono', 'Fira Code', monospace;
            
            --radius: 0.75rem;
            --radius-sm: 0.5rem;
            --radius-lg: 1rem;
            
            --transition: all 0.2s cubic-bezier(0.4, 0, 0.2, 1);
            --transition-slow: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        }

        /* Added light theme variables */
        [data-theme="light"] {
            --bg-primary: hsl(0, 0%, 98%);
            --bg-secondary: hsl(0, 0%, 95%);
            --bg-tertiary: hsl(0, 0%, 92%);
            --bg-card: hsl(0, 0%, 100%);
            
            --text-primary: hsl(222, 84%, 5%);
            --text-secondary: hsl(215, 20%, 35%);
            --text-muted: hsl(215, 20%, 55%);
            
            --border: hsl(217, 32%, 83%);
            --border-hover: hsl(217, 32%, 75%);
            
            --primary-light-bg: hsl(var(--primary-hue), var(--primary-sat), 95%);
        }
        
        /* Modern CSS Reset */
        *, *::before, *::after {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
        }
        
        html {
            scroll-behavior: smooth;
            scroll-padding-top: 2rem;
        }
        
        body {
            font-family: var(--font-sans);
            background: var(--bg-primary);
            color: var(--text-primary);
            line-height: 1.6;
            overflow-x: hidden;
            min-height: 100vh;
            background-image: 
                radial-gradient(circle at 25% 25%, hsl(var(--primary-hue), 100%, 15%) 0%, transparent 50%),
                radial-gradient(circle at 75% 75%, hsl(280, 100%, 15%) 0%, transparent 50%);
        }

        /* Added scroll to top button styles */
        .scroll-to-top {
            position: fixed;
            bottom: 20px;
            left: 20px;
            z-index: 1000;
            background: var(--primary);
            color: white;
            border: none;
            border-radius: 50%;
            width: 50px;
            height: 50px;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
            cursor: pointer;
            transition: var(--transition);
            opacity: 0;
            visibility: hidden;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .scroll-to-top.visible {
            opacity: 1;
            visibility: visible;
        }

        .scroll-to-top:hover {
            transform: scale(1.1);
            box-shadow: 0 6px 20px rgba(0, 0, 0, 0.2);
        }

        /* Added WhatsApp floating button styles */
        .whatsapp-float {
            position: fixed;
            bottom: 80px;
            right: 20px;
            z-index: 1000;
            background: #25D366;
            color: white;
            border: none;
            border-radius: 50%;
            width: 60px;
            height: 60px;
            box-shadow: 0 4px 12px rgba(37, 211, 102, 0.3);
            cursor: pointer;
            transition: var(--transition);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 24px;
            text-decoration: none;
        }

        .whatsapp-float:hover {
            transform: scale(1.1);
            box-shadow: 0 6px 20px rgba(37, 211, 102, 0.4);
        }

        .whatsapp-float::before {
            content: '';
            position: absolute;
            inset: -4px;
            border-radius: 50%;
            background: linear-gradient(45deg, #25D366, #128C7E);
            z-index: -1;
            animation: pulse-whatsapp 2s infinite;
        }

        @keyframes pulse-whatsapp {
            0%, 100% { transform: scale(1); opacity: 0.7; }
            50% { transform: scale(1.1); opacity: 0.3; }
        }
        
        /* Container Queries */
        @container (min-width: 768px) {
            .bookmark-grid {
                grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
            }
        }
        
        /* Modern Layout with CSS Grid */
        .app-container {
            display: grid;
            grid-template-areas: 
                "header header"
                "sidebar main"
                "social main";
            grid-template-columns: 280px 1fr;
            grid-template-rows: auto 1fr auto;
            min-height: 100vh;
            gap: 1rem;
            padding: 1rem;
            container-type: inline-size;
        }
        
        @media (max-width: 768px) {
            .app-container {
                grid-template-areas: 
                    "header"
                    "main"
                    "sidebar"
                    "social";
                grid-template-columns: 1fr;
                gap: 0.5rem;
                padding: 0.5rem;
            }
        }
        
        /* Header */
        .header {
            grid-area: header;
            background: var(--bg-card);
            border: 1px solid var(--border);
            border-radius: var(--radius);
            padding: 1.5rem;
            backdrop-filter: blur(20px);
            position: sticky;
            top: 1rem;
            z-index: 100;
        }
        
        .header-content {
            display: flex;
            align-items: center;
            justify-content: space-between;
            gap: 1rem;
            flex-wrap: wrap;
        }
        
        .logo {
            display: flex;
            align-items: center;
            gap: 0.75rem;
            font-weight: 700;
            font-size: 1.25rem;
            color: var(--primary);
        }
        
        .logo-icon {
            width: 32px;
            height: 32px;
            background: linear-gradient(135deg, var(--primary), var(--secondary));
            border-radius: var(--radius-sm);
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-weight: bold;
        }
        
        /* Search */
        .search-container {
            position: relative;
            flex: 1;
            max-width: 400px;
        }
        
        .search-input {
            width: 100%;
            padding: 0.75rem 1rem 0.75rem 2.5rem;
            background: var(--bg-secondary);
            border: 1px solid var(--border);
            border-radius: var(--radius);
            color: var(--text-primary);
            font-size: 0.875rem;
            transition: var(--transition);
        }
        
        .search-input:focus {
            outline: none;
            border-color: var(--primary);
            box-shadow: 0 0 0 3px hsl(var(--primary-hue), var(--primary-sat), var(--primary-light), 0.1);
        }
        
        .search-icon {
            position: absolute;
            left: 0.75rem;
            top: 50%;
            transform: translateY(-50%);
            color: var(--text-muted);
            pointer-events: none;
        }
        
        /* Sidebar */
        .sidebar {
            grid-area: sidebar;
            background: var(--bg-card);
            border: 1px solid var(--border);
            border-radius: var(--radius);
            padding: 1.5rem;
            height: fit-content;
            position: sticky;
            top: calc(5rem + 1rem);
        }
        
        .sidebar h2 {
            font-size: 1.125rem;
            font-weight: 600;
            margin-bottom: 1rem;
            color: var(--text-primary);
        }
        
        .category-list {
            list-style: none;
        }
        
        .category-item {
            margin-bottom: 0.5rem;
        }
        
        .category-button {
            width: 100%;
            padding: 0.75rem 1rem;
            background: transparent;
            border: 1px solid transparent;
            border-radius: var(--radius-sm);
            color: var(--text-secondary);
            font-size: 0.875rem;
            cursor: pointer;
            transition: var(--transition);
            text-align: left;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }
        
        .category-button:hover {
            background: var(--bg-secondary);
            color: var(--text-primary);
            border-color: var(--border-hover);
        }
        
        .category-button.active {
            background: var(--primary-light-bg);
            color: var(--primary);
            border-color: var(--primary);
        }
        
        .category-count {
            margin-left: auto;
            background: var(--bg-tertiary);
            color: var(--text-muted);
            padding: 0.125rem 0.5rem;
            border-radius: 1rem;
            font-size: 0.75rem;
            font-weight: 500;
        }
        
        /* Main Content */
        .main-content {
            grid-area: main;
            background: var(--bg-card);
            border: 1px solid var(--border);
            border-radius: var(--radius);
            padding: 1.5rem;
            min-height: 600px;
        }
        
        .content-header {
            display: flex;
            align-items: center;
            justify-content: space-between;
            margin-bottom: 1.5rem;
            flex-wrap: wrap;
            gap: 1rem;
        }
        
        .content-title {
            font-size: 1.5rem;
            font-weight: 600;
            color: var(--text-primary);
        }
        
        .view-controls {
            display: flex;
            gap: 0.5rem;
        }
        
        .view-button {
            padding: 0.5rem;
            background: var(--bg-secondary);
            border: 1px solid var(--border);
            border-radius: var(--radius-sm);
            color: var(--text-secondary);
            cursor: pointer;
            transition: var(--transition);
        }
        
        .view-button:hover,
        .view-button.active {
            background: var(--primary);
            color: white;
            border-color: var(--primary);
        }
        
        /* Bookmark Grid */
        .bookmark-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
            gap: 1rem;
            margin-bottom: 2rem;
        }
        
        .bookmark-card {
            background: var(--bg-secondary);
            border: 1px solid var(--border);
            border-radius: var(--radius);
            padding: 1.25rem;
            transition: var(--transition);
            cursor: pointer;
            position: relative;
            overflow: hidden;
        }
        
        .bookmark-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 3px;
            background: linear-gradient(90deg, var(--primary), var(--secondary));
            transform: scaleX(0);
            transition: transform 0.3s ease;
        }
        
        .bookmark-card:hover {
            border-color: var(--border-hover);
            transform: translateY(-2px);
            box-shadow: var(--shadow-lg);
        }
        
        .bookmark-card:hover::before {
            transform: scaleX(1);
        }
        
        .bookmark-header {
            display: flex;
            align-items: flex-start;
            gap: 0.75rem;
            margin-bottom: 0.75rem;
        }
        
        .bookmark-favicon {
            width: 24px;
            height: 24px;
            border-radius: 4px;
            background: var(--bg-tertiary);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 0.75rem;
            flex-shrink: 0;
        }
        
        .bookmark-info {
            flex: 1;
            min-width: 0;
        }
        
        .bookmark-title {
            font-weight: 600;
            color: var(--text-primary);
            margin-bottom: 0.25rem;
            overflow: hidden;
            text-overflow: ellipsis;
            white-space: nowrap;
        }
        
        .bookmark-url {
            font-size: 0.75rem;
            color: var(--text-muted);
            font-family: var(--font-mono);
            overflow: hidden;
            text-overflow: ellipsis;
            white-space: nowrap;
        }
        
        .bookmark-description {
            font-size: 0.875rem;
            color: var(--text-secondary);
            line-height: 1.5;
            margin-bottom: 0.75rem;
            display: -webkit-box;
            -webkit-line-clamp: 2;
            -webkit-box-orient: vertical;
            overflow: hidden;
        }
        
        .bookmark-tags {
            display: flex;
            flex-wrap: wrap;
            gap: 0.25rem;
            margin-bottom: 0.75rem;
        }
        
        .bookmark-tag {
            background: var(--bg-tertiary);
            color: var(--text-muted);
            padding: 0.125rem 0.5rem;
            border-radius: 1rem;
            font-size: 0.75rem;
            font-weight: 500;
        }
        
        .bookmark-actions {
            display: flex;
            align-items: center;
            justify-content: space-between;
        }
        
        .bookmark-date {
            font-size: 0.75rem;
            color: var(--text-muted);
        }
        
        .bookmark-favorite {
            background: none;
            border: none;
            color: var(--text-muted);
            cursor: pointer;
            padding: 0.25rem;
            border-radius: 4px;
            transition: var(--transition);
        }
        
        .bookmark-favorite:hover {
            color: var(--accent);
            background: var(--bg-tertiary);
        }
        
        .bookmark-favorite.active {
            color: var(--accent);
        }

        /* Added donation section styles */
        .donation-section {
            background: var(--bg-card);
            border: 1px solid var(--border);
            border-radius: var(--radius);
            padding: 2rem;
            margin: 2rem 0;
            text-align: center;
        }

        .donation-title {
            font-size: 1.5rem;
            font-weight: 600;
            color: var(--text-primary);
            margin-bottom: 1rem;
        }

        .donation-description {
            color: var(--text-secondary);
            margin-bottom: 2rem;
            max-width: 600px;
            margin-left: auto;
            margin-right: auto;
        }

        .donation-buttons {
            display: flex;
            gap: 1rem;
            justify-content: center;
            flex-wrap: wrap;
        }

        .donation-button {
            display: inline-flex;
            align-items: center;
            gap: 0.5rem;
            padding: 0.75rem 1.5rem;
            border-radius: var(--radius);
            text-decoration: none;
            font-weight: 500;
            transition: var(--transition);
            border: 1px solid var(--border);
        }

        .donation-button.paypal {
            background: #0070ba;
            color: white;
            border-color: #0070ba;
        }

        .donation-button.patreon {
            background: #ff424d;
            color: white;
            border-color: #ff424d;
        }

        .donation-button.kofi {
            background: #ff5e5b;
            color: white;
            border-color: #ff5e5b;
        }

        .donation-button.github {
            background: #24292e;
            color: white;
            border-color: #24292e;
        }

        .donation-button:hover {
            transform: translateY(-2px);
            box-shadow: var(--shadow-lg);
        }

        /* Added instruction manual section styles */
        .manual-section {
            background: var(--bg-card);
            border: 1px solid var(--border);
            border-radius: var(--radius);
            padding: 2rem;
            margin: 2rem 0;
        }

        .manual-title {
            font-size: 1.5rem;
            font-weight: 600;
            color: var(--text-primary);
            margin-bottom: 1rem;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .manual-content {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 1.5rem;
        }

        .manual-card {
            background: var(--bg-secondary);
            border: 1px solid var(--border);
            border-radius: var(--radius-sm);
            padding: 1.5rem;
        }

        .manual-card h3 {
            color: var(--text-primary);
            margin-bottom: 0.75rem;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .manual-card ul {
            list-style: none;
            padding: 0;
        }

        .manual-card li {
            color: var(--text-secondary);
            margin-bottom: 0.5rem;
            padding-left: 1.5rem;
            position: relative;
        }

        .manual-card li::before {
            content: '‚Üí';
            position: absolute;
            left: 0;
            color: var(--primary);
            font-weight: bold;
        }
        
        /* Social Media Float */
        .social-float {
            grid-area: social;
            position: fixed;
            right: 1rem;
            top: 50%;
            transform: translateY(-50%);
            z-index: 1000;
            max-height: 70vh;
            overflow-y: auto;
            scrollbar-width: none;
            -ms-overflow-style: none;
        }
        
        .social-float::-webkit-scrollbar {
            display: none;
        }
        
        @media (max-width: 768px) {
            .social-float {
                position: relative;
                right: auto;
                top: auto;
                transform: none;
                max-height: none;
                overflow-y: visible;
            }
        }
        
        .social-toggle {
            background: var(--primary);
            color: white;
            border: none;
            width: 48px;
            height: 48px;
            border-radius: 50%;
            cursor: pointer;
            margin-bottom: 0.5rem;
            display: flex;
            align-items: center;
            justify-content: center;
            box-shadow: var(--shadow-lg);
            transition: var(--transition);
        }
        
        .social-toggle:hover {
            transform: scale(1.1);
            box-shadow: var(--shadow-xl);
        }
        
        .social-panel {
            background: var(--bg-card);
            border: 1px solid var(--border);
            border-radius: var(--radius);
            padding: 1rem;
            margin-bottom: 0.5rem;
            backdrop-filter: blur(20px);
            max-height: 0;
            overflow: hidden;
            transition: max-height 0.3s ease;
        }
        
        .social-panel.open {
            max-height: 400px;
        }
        
        .social-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(40px, 1fr));
            gap: 0.5rem;
        }
        
        .social-link {
            width: 40px;
            height: 40px;
            border-radius: var(--radius-sm);
            display: flex;
            align-items: center;
            justify-content: center;
            text-decoration: none;
            color: white;
            font-size: 0.875rem;
            font-weight: 600;
            transition: var(--transition);
            position: relative;
            overflow: hidden;
        }
        
        .social-link::before {
            content: '';
            position: absolute;
            inset: 0;
            background: linear-gradient(135deg, var(--primary), var(--secondary));
            opacity: 0.8;
            transition: var(--transition);
        }
        
        .social-link:hover::before {
            opacity: 1;
        }
        
        .social-link:hover {
            transform: scale(1.1);
        }
        
        /* Animations */
        @keyframes fadeInUp {
            from {
                opacity: 0;
                transform: translateY(20px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }
        
        @keyframes pulse {
            0%, 100% {
                opacity: 1;
            }
            50% {
                opacity: 0.5;
            }
        }
        
        .fade-in {
            animation: fadeInUp 0.5s ease-out;
        }
        
        .loading {
            animation: pulse 2s infinite;
        }
        
        /* Utility Classes */
        .sr-only {
            position: absolute;
            width: 1px;
            height: 1px;
            padding: 0;
            margin: -1px;
            overflow: hidden;
            clip: rect(0, 0, 0, 0);
            white-space: nowrap;
            border: 0;
        }
        
        .text-gradient {
            background: linear-gradient(135deg, var(--primary), var(--secondary));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }
        
        /* Dark mode toggle */
        .theme-toggle {
            background: var(--bg-secondary);
            border: 1px solid var(--border);
            border-radius: var(--radius-sm);
            padding: 0.5rem;
            color: var(--text-secondary);
            cursor: pointer;
            transition: var(--transition);
        }
        
        .theme-toggle:hover {
            background: var(--primary);
            color: white;
            border-color: var(--primary);
        }
        
        /* Responsive Design */
        @media (max-width: 1024px) {
            .app-container {
                grid-template-columns: 240px 1fr;
            }
        }
        
        @media (max-width: 768px) {
            .header-content {
                flex-direction: column;
                align-items: stretch;
            }
            
            .search-container {
                max-width: none;
            }
            
            .bookmark-grid {
                grid-template-columns: 1fr;
            }
            
            .content-header {
                flex-direction: column;
                align-items: stretch;
            }

            .donation-buttons {
                flex-direction: column;
                align-items: center;
            }

            .donation-button {
                width: 100%;
                max-width: 300px;
                justify-content: center;
            }
        }
        
        /* Print Styles */
        @media print {
            .social-float,
            .theme-toggle,
            .view-controls,
            .whatsapp-float,
            .scroll-to-top {
                display: none;
            }
            
            .bookmark-card {
                break-inside: avoid;
                border: 1px solid #ccc;
                margin-bottom: 1rem;
            }
        }

        /* Mobile Category Toggle */
        .mobile-category-toggle {
            display: none;
            position: fixed;
            bottom: 20px;
            right: 20px;
            z-index: 1000;
            background: var(--primary);
            color: white;
            border: none;
            border-radius: 50%;
            width: 56px;
            height: 56px;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
            cursor: pointer;
            transition: var(--transition);
        }

        .mobile-category-toggle:hover {
            transform: scale(1.1);
            box-shadow: 0 6px 20px rgba(0, 0, 0, 0.2);
        }

        .mobile-category-overlay {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0, 0, 0, 0.5);
            z-index: 1001;
            backdrop-filter: blur(4px);
        }

        .mobile-category-panel {
            position: fixed;
            bottom: 0;
            left: 0;
            right: 0;
            background: var(--bg-card);
            border-radius: 20px 20px 0 0;
            padding: 1.5rem;
            max-height: 70vh;
            overflow-y: auto;
            transform: translateY(100%);
            transition: transform 0.3s ease;
            z-index: 1002;
        }

        .mobile-category-panel.open {
            transform: translateY(0);
        }

        .mobile-category-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 1rem;
            padding-bottom: 1rem;
            border-bottom: 1px solid var(--border);
        }

        .mobile-category-close {
            background: none;
            border: none;
            font-size: 1.5rem;
            cursor: pointer;
            color: var(--text-secondary);
            padding: 0.5rem;
            border-radius: var(--radius-sm);
        }

        .mobile-category-close:hover {
            background: var(--bg-secondary);
        }

        @media (max-width: 768px) {
            .sidebar {
                display: none;
            }
            
            .mobile-category-toggle {
                display: flex;
                align-items: center;
                justify-content: center;
            }
            
            .app-container {
                grid-template-areas: 
                    "header"
                    "main"
                    "social";
                grid-template-columns: 1fr;
                gap: 0.5rem;
                padding: 0.5rem;
            }

            .bookmark-grid {
                grid-template-columns: 1fr;
                gap: 1rem;
            }

            .bookmark-card {
                padding: 1rem;
            }

            .content-header {
                flex-direction: column;
                gap: 1rem;
                align-items: stretch;
            }

            .search-container {
                max-width: none;
                order: -1;
            }

            .view-controls {
                justify-content: center;
            }

            /* Adjusted mobile positioning for floating elements */
            .whatsapp-float {
                bottom: 140px;
                right: 20px;
            }

            .scroll-to-top {
                bottom: 90px;
                left: 20px;
            }
        }

        /* Touch-friendly improvements */
        @media (max-width: 768px) {
            .category-button,
            .bookmark-card,
            .social-icon {
                min-height: 44px;
                touch-action: manipulation;
            }

            .bookmark-card {
                padding: 1.25rem;
            }

            .bookmark-title {
                font-size: 1.1rem;
                line-height: 1.4;
            }
        }
    </style>
</head>
<body>
    <div class="app-container">
        <!-- Header -->
        <header class="header">
            <div class="header-content">
                <div class="logo">
                    <div class="logo-icon">BM</div>
                    <span class="text-gradient">Advanced Bookmark Manager</span>
                </div>
                
                <div class="search-container">
                    <input 
                        type="search" 
                        class="search-input" 
                        placeholder="Search bookmarks, tags, or URLs..."
                        id="searchInput"
                        autocomplete="off"
                    >
                    <svg class="search-icon" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <circle cx="11" cy="11" r="8"></circle>
                        <path d="m21 21-4.35-4.35"></path>
                    </svg>
                </div>
                
                <button class="theme-toggle" id="themeToggle" title="Toggle theme">
                    <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <circle cx="12" cy="12" r="5"></circle>
                        <line x1="12" y1="1" x2="12" y2="3"></line>
                        <line x1="12" y1="21" x2="12" y2="23"></line>
                        <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
                        <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
                        <line x1="1" y1="12" x2="3" y2="12"></line>
                        <line x1="21" y1="12" x2="23" y2="12"></line>
                        <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
                        <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
                    </svg>
                </button>
            </div>
        </header>
        
        <!-- Sidebar -->
        <aside class="sidebar">
            <h2>Categories</h2>
            <ul class="category-list" id="categoryList">
                <!-- Categories will be populated by JavaScript -->
            </ul>
            
            <div style="margin-top: 2rem;">
                <h2>Quick Actions</h2>
                <button class="category-button" id="addBookmarkBtn">
                    <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <line x1="12" y1="5" x2="12" y2="19"></line>
                        <line x1="5" y1="12" x2="19" y2="12"></line>
                    </svg>
                    Add Bookmark
                </button>
                <button class="category-button" id="importBtn">
                    <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"></path>
                        <polyline points="14,2 14,8 20,8"></polyline>
                        <line x1="16" y1="13" x2="8" y2="13"></line>
                        <line x1="16" y1="17" x2="8" y2="17"></line>
                        <polyline points="10,9 9,9 8,9"></polyline>
                    </svg>
                    Import Bookmarks
                </button>
                <button class="category-button" id="exportBtn">
                    <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"></path>
                        <polyline points="14,2 14,8 20,8"></polyline>
                        <line x1="16" y1="13" x2="8" y2="13"></line>
                        <line x1="16" y1="17" x2="8" y2="17"></line>
                        <polyline points="10,9 9,9 8,9"></polyline>
                    </svg>
                    Export Bookmarks
                </button>
            </div>
        </aside>
        
        <!-- Main Content -->
        <main class="main-content">
            <div class="content-header">
                <h1 class="content-title" id="contentTitle">All Bookmarks</h1>
                <div class="view-controls">
                    <button class="view-button active" id="gridView" title="Grid view">
                        <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <rect x="3" y="3" width="7" height="7"></rect>
                            <rect x="14" y="3" width="7" height="7"></rect>
                            <rect x="14" y="14" width="7" height="7"></rect>
                            <rect x="3" y="14" width="7" height="7"></rect>
                        </svg>
                    </button>
                    <button class="view-button" id="listView" title="List view">
                        <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <line x1="8" y1="6" x2="21" y2="6"></line>
                            <line x1="8" y1="12" x2="21" y2="12"></line>
                            <line x1="8" y1="18" x2="21" y2="18"></line>
                            <line x1="3" y1="6" x2="3.01" y2="6"></line>
                            <line x1="3" y1="12" x2="3.01" y2="12"></line>
                            <line x1="3" y1="18" x2="3.01" y2="18"></line>
                        </svg>
                    </button>
                </div>
            </div>
            
            <div class="bookmark-grid" id="bookmarkGrid">
                <!-- Bookmarks will be populated by JavaScript -->
            </div>

            <!-- Added donation section -->
            <section class="donation-section">
                <h2 class="donation-title">
                    <i class="fas fa-heart" style="color: #ff424d; margin-right: 0.5rem;"></i>
                    Support Development
                </h2>
                <p class="donation-description">
                    Help us continue improving this bookmark manager! Your support enables us to add new features, 
                    fix bugs, and maintain this free tool for everyone. Every contribution, no matter how small, makes a difference.
                </p>
                <div class="donation-buttons">
                    <a href="https://paypal.me/bookmarkmanager" target="_blank" rel="noopener noreferrer" class="donation-button paypal">
                        <i class="fab fa-paypal"></i>
                        PayPal
                    </a>
                    <a href="https://patreon.com/bookmarkmanager" target="_blank" rel="noopener noreferrer" class="donation-button patreon">
                        <i class="fab fa-patreon"></i>
                        Patreon
                    </a>
                    <a href="https://ko-fi.com/bookmarkmanager" target="_blank" rel="noopener noreferrer" class="donation-button kofi">
                        <i class="fas fa-coffee"></i>
                        Ko-fi
                    </a>
                    <a href="https://github.com/sponsors/bookmarkmanager" target="_blank" rel="noopener noreferrer" class="donation-button github">
                        <i class="fab fa-github"></i>
                        GitHub Sponsors
                    </a>
                </div>
            </section>

            <!-- Added instruction manual section -->
            <section class="manual-section">
                <h2 class="manual-title">
                    <i class="fas fa-book"></i>
                    Instruction Manual
                </h2>
                <div class="manual-content">
                    <div class="manual-card">
                        <h3><i class="fas fa-plus-circle"></i> Adding Bookmarks</h3>
                        <ul>
                            <li>Click "Add Bookmark" in the sidebar</li>
                            <li>Enter the URL and title</li>
                            <li>Choose a category or create a new one</li>
                            <li>Add tags for better organization</li>
                            <li>Use Ctrl+N (Cmd+N) for quick add</li>
                        </ul>
                    </div>
                    <div class="manual-card">
                        <h3><i class="fas fa-search"></i> Search & Filter</h3>
                        <ul>
                            <li>Use the search bar to find bookmarks</li>
                            <li>Search by title, URL, or tags</li>
                            <li>Filter by categories in the sidebar</li>
                            <li>Use Ctrl+K (Cmd+K) to focus search</li>
                            <li>Click categories to filter results</li>
                        </ul>
                    </div>
                    <div class="manual-card">
                        <h3><i class="fas fa-cog"></i> Organization</h3>
                        <ul>
                            <li>Create custom categories</li>
                            <li>Add multiple tags to bookmarks</li>
                            <li>Mark favorites with the star icon</li>
                            <li>Switch between grid and list views</li>
                            <li>Sort by date, visits, or alphabetically</li>
                        </ul>
                    </div>
                    <div class="manual-card">
                        <h3><i class="fas fa-download"></i> Import & Export</h3>
                        <ul>
                            <li>Import from browser bookmarks</li>
                            <li>Export your bookmarks as JSON</li>
                            <li>Backup your data regularly</li>
                            <li>Sync across multiple devices</li>
                            <li>Share bookmark collections</li>
                        </ul>
                    </div>
                    <div class="manual-card">
                        <h3><i class="fas fa-keyboard"></i> Keyboard Shortcuts</h3>
                        <ul>
                            <li>Ctrl+K / Cmd+K: Focus search</li>
                            <li>Ctrl+N / Cmd+N: Add new bookmark</li>
                            <li>Escape: Close mobile menu</li>
                            <li>Enter: Open selected bookmark</li>
                            <li>Space: Toggle favorite</li>
                        </ul>
                    </div>
                    <div class="manual-card">
                        <h3><i class="fas fa-mobile-alt"></i> Mobile Features</h3>
                        <ul>
                            <li>Swipe right to open categories</li>
                            <li>Tap floating menu button</li>
                            <li>Touch-friendly interface</li>
                            <li>Responsive design for all screens</li>
                            <li>Offline functionality available</li>
                        </ul>
                    </div>
                </div>
            </section>
        </main>
        
        <!-- Social Media Float -->
        <div class="social-float">
            <button class="social-toggle" id="socialToggle" title="Toggle social media panel">
                <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <path d="M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"></path>
                    <polyline points="15,3 21,3 21,9"></polyline>
                    <line x1="10" y1="14" x2="21" y2="3"></line>
                </svg>
            </button>
            
            <div class="social-panel" id="socialPanel">
                <div class="social-grid" id="socialGrid">
                    <!-- Social media links will be populated by JavaScript -->
                </div>
            </div>
        </div>
    </div>
    
    <!-- Add Bookmark Modal (will be created dynamically) -->

    <!-- Mobile Category Toggle -->
    <button class="mobile-category-toggle" id="mobileCategoryToggle">
        <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <line x1="3" y1="6" x2="21" y2="6"></line>
            <line x1="3" y1="12" x2="21" y2="12"></line>
            <line x1="3" y1="18" x2="21" y2="18"></line>
        </svg>
    </button>

    <!-- Mobile Category Overlay -->
    <div class="mobile-category-overlay" id="mobileCategoryOverlay">
        <div class="mobile-category-panel" id="mobileCategoryPanel">
            <div class="mobile-category-header">
                <h2>Categories</h2>
                <button class="mobile-category-close" id="mobileCategoryClose">&times;</button>
            </div>
            <ul class="category-list" id="mobileCategoryList">
                <!-- Categories will be populated by JavaScript -->
            </ul>
            
            <div style="margin-top: 2rem;">
                <h3 style="margin-bottom: 1rem; color: var(--text-primary);">Quick Actions</h3>
                <button class="category-button" id="mobileAddBookmarkBtn">
                    <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <line x1="12" y1="5" x2="12" y2="19"></line>
                        <line x1="5" y1="12" x2="19" y2="12"></line>
                    </svg>
                    Add Bookmark
                </button>
                <button class="category-button" id="mobileImportBtn">
                    <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"></path>
                        <polyline points="14,2 14,8 20,8"></polyline>
                        <line x1="16" y1="13" x2="8" y2="13"></line>
                        <line x1="16" y1="17" x2="8" y2="17"></line>
                    </svg>
                    Import Bookmarks
                </button>
            </div>
        </div>
    </div>

    <!-- Added WhatsApp floating button -->
    <a href="https://wa.me/27730000822" target="_blank" rel="noopener noreferrer" class="whatsapp-float" title="Contact Customer Service">
        <i class="fab fa-whatsapp"></i>
    </a>

    <!-- Added scroll to top button -->
    <button class="scroll-to-top" id="scrollToTop" title="Scroll to top">
        <i class="fas fa-arrow-up"></i>
    </button>
    
    <script>
        // Modern JavaScript with ES6+ features
        class BookmarkManager {
            constructor() {
                this.bookmarks = this.loadBookmarks();
                this.categories = this.getCategories();
                this.currentCategory = 'all';
                this.currentView = 'grid';
                this.searchTerm = '';
                this.openedTabs = new Set(); // Track opened tabs to prevent duplicates
                
                this.init();
                this.setupEventListeners();
                this.setupServiceWorker();
                this.initializeTheme(); // Initialize theme on load
            }
            
            // Initialize the application
            init() {
                this.renderCategories();
                this.renderBookmarks();
                this.renderSocialMedia();
                this.setupIntersectionObserver();
                this.setupScrollToTop(); // Setup scroll to top functionality
            }

            initializeTheme() {
                const savedTheme = localStorage.getItem('theme') || 'dark';
                document.documentElement.setAttribute('data-theme', savedTheme);
            }

            setupScrollToTop() {
                const scrollToTopBtn = document.getElementById('scrollToTop');
                
                window.addEventListener('scroll', () => {
                    if (window.pageYOffset > 300) {
                        scrollToTopBtn.classList.add('visible');
                    } else {
                        scrollToTopBtn.classList.remove('visible');
                    }
                });

                scrollToTopBtn.addEventListener('click', () => {
                    window.scrollTo({
                        top: 0,
                        behavior: 'smooth'
                    });
                });
            }
            
            // Load bookmarks from localStorage or use default data
            loadBookmarks() {
                const stored = localStorage.getItem('bookmarks');
                if (stored) {
                    return JSON.parse(stored);
                }
                
                // Default bookmarks data
                return [
                    {
                        id: '1',
                        title: 'ChatGPT',
                        url: 'https://chat.openai.com',
                        description: 'AI-powered conversational assistant for various tasks',
                        category: 'AI Tools',
                        tags: ['ai', 'chat', 'assistant'],
                        favicon: 'ü§ñ',
                        dateAdded: new Date().toISOString(),
                        favorite: true,
                        visits: 45
                    },
                    {
                        id: '2',
                        title: 'DeepSeek',
                        url: 'https://deepseek.com',
                        description: 'Advanced AI research and development platform',
                        category: 'AI Tools',
                        tags: ['ai', 'research', 'development'],
                        favicon: 'üî¨',
                        dateAdded: new Date().toISOString(),
                        favorite: false,
                        visits: 12
                    },
                    {
                        id: '3',
                        title: 'Perplexity AI',
                        url: 'https://perplexity.ai',
                        description: 'AI-powered search and research assistant',
                        category: 'AI Tools',
                        tags: ['ai', 'search', 'research'],
                        favicon: 'üîç',
                        dateAdded: new Date().toISOString(),
                        favorite: true,
                        visits: 28
                    },
                    {
                        id: '4',
                        title: 'v0 by Vercel',
                        url: 'https://v0.dev',
                        description: 'AI-powered UI generation and development tool',
                        category: 'AI Tools',
                        tags: ['ai', 'ui', 'development', 'vercel'],
                        favicon: '‚ö°',
                        dateAdded: new Date().toISOString(),
                        favorite: true,
                        visits: 67
                    },
                    {
                        id: '5',
                        title: 'Harvard University',
                        url: 'https://harvard.edu',
                        description: 'Prestigious Ivy League university in Cambridge, Massachusetts',
                        category: 'Education',
                        tags: ['university', 'education', 'ivy league'],
                        favicon: 'üéì',
                        dateAdded: new Date().toISOString(),
                        favorite: false,
                        visits: 8
                    },
                    {
                        id: '6',
                        title: 'MIT OpenCourseWare',
                        url: 'https://ocw.mit.edu',
                        description: 'Free online course materials from MIT',
                        category: 'Education',
                        tags: ['mit', 'courses', 'free', 'education'],
                        favicon: 'üìö',
                        dateAdded: new Date().toISOString(),
                        favorite: true,
                        visits: 23
                    },
                    {
                        id: '7',
                        title: 'Goldman Sachs Careers',
                        url: 'https://goldmansachs.com/careers',
                        description: 'Career opportunities at Goldman Sachs investment bank',
                        category: 'Careers',
                        tags: ['finance', 'banking', 'careers', 'jobs'],
                        favicon: 'üíº',
                        dateAdded: new Date().toISOString(),
                        favorite: false,
                        visits: 5
                    },
                    {
                        id: '8',
                        title: 'LinkedIn Jobs',
                        url: 'https://linkedin.com/jobs',
                        description: 'Professional networking and job search platform',
                        category: 'Careers',
                        tags: ['jobs', 'networking', 'professional', 'recruitment'],
                        favicon: 'üíº',
                        dateAdded: new Date().toISOString(),
                        favorite: true,
                        visits: 34
                    }
                ];
            }
            
            // Save bookmarks to localStorage
            saveBookmarks() {
                localStorage.setItem('bookmarks', JSON.stringify(this.bookmarks));
            }
            
            // Get unique categories from bookmarks
            getCategories() {
                const categories = [...new Set(this.bookmarks.map(b => b.category))];
                return ['All', ...categories.sort()];
            }
            
            setupEventListeners() {
                // Search functionality with error handling
                const searchInput = document.getElementById('searchInput');
                if (searchInput) {
                    searchInput.addEventListener('input', this.debounce((e) => {
                        this.searchTerm = e.target.value.toLowerCase();
                        this.renderBookmarks();
                    }, 300));
                }
                
                // Category selection for desktop sidebar
                const categoryList = document.getElementById('categoryList');
                if (categoryList) {
                    categoryList.addEventListener('click', (e) => {
                        if (e.target.classList.contains('category-button')) {
                            this.handleCategorySelection(e.target);
                        }
                    });
                }

                // Mobile category functionality
                const mobileCategoryToggle = document.getElementById('mobileCategoryToggle');
                const mobileCategoryOverlay = document.getElementById('mobileCategoryOverlay');
                const mobileCategoryClose = document.getElementById('mobileCategoryClose');
                const mobileCategoryList = document.getElementById('mobileCategoryList');

                if (mobileCategoryToggle && mobileCategoryOverlay) {
                    mobileCategoryToggle.addEventListener('click', () => {
                        this.openMobileCategories();
                    });

                    mobileCategoryOverlay.addEventListener('click', (e) => {
                        if (e.target === mobileCategoryOverlay) {
                            this.closeMobileCategories();
                        }
                    });

                    if (mobileCategoryClose) {
                        mobileCategoryClose.addEventListener('click', () => {
                            this.closeMobileCategories();
                        });
                    }

                    if (mobileCategoryList) {
                        mobileCategoryList.addEventListener('click', (e) => {
                            if (e.target.classList.contains('category-button')) {
                                this.handleCategorySelection(e.target);
                                this.closeMobileCategories();
                            }
                        });
                    }
                }
                
                // View controls with error handling
                const gridView = document.getElementById('gridView');
                const listView = document.getElementById('listView');
                
                if (gridView) {
                    gridView.addEventListener('click', () => {
                        this.currentView = 'grid';
                        this.updateViewControls();
                        this.renderBookmarks();
                    });
                }
                
                if (listView) {
                    listView.addEventListener('click', () => {
                        this.currentView = 'list';
                        this.updateViewControls();
                        this.renderBookmarks();
                    });
                }
                
                // Social media toggle with error handling
                const socialToggle = document.getElementById('socialToggle');
                if (socialToggle) {
                    socialToggle.addEventListener('click', () => {
                        const panel = document.getElementById('socialPanel');
                        if (panel) {
                            panel.classList.toggle('open');
                        }
                    });
                }
                
                // Quick actions with error handling
                this.setupQuickActions();
                
                // Theme toggle with error handling
                const themeToggle = document.getElementById('themeToggle');
                if (themeToggle) {
                    themeToggle.addEventListener('click', () => {
                        this.toggleTheme();
                    });
                }
                
                // Keyboard shortcuts
                document.addEventListener('keydown', (e) => {
                    if (e.ctrlKey || e.metaKey) {
                        switch (e.key) {
                            case 'k':
                                e.preventDefault();
                                if (searchInput) searchInput.focus();
                                break;
                            case 'n':
                                e.preventDefault();
                                this.showAddBookmarkModal();
                                break;
                        }
                    }
                    
                    // ESC to close mobile categories
                    if (e.key === 'Escape') {
                        this.closeMobileCategories();
                    }
                });

                // Touch gestures for mobile
                this.setupTouchGestures();
            }

            handleCategorySelection(button) {
                this.currentCategory = button.dataset.category;
                this.updateActiveCategory(button);
                this.renderBookmarks();
                const contentTitle = document.getElementById('contentTitle');
                if (contentTitle) {
                    contentTitle.textContent = 
                        this.currentCategory === 'all' ? 'All Bookmarks' : this.currentCategory;
                }
            }

            openMobileCategories() {
                const overlay = document.getElementById('mobileCategoryOverlay');
                const panel = document.getElementById('mobileCategoryPanel');
                if (overlay && panel) {
                    overlay.style.display = 'block';
                    setTimeout(() => {
                        panel.classList.add('open');
                    }, 10);
                    document.body.style.overflow = 'hidden';
                }
            }

            closeMobileCategories() {
                const overlay = document.getElementById('mobileCategoryOverlay');
                const panel = document.getElementById('mobileCategoryPanel');
                if (overlay && panel) {
                    panel.classList.remove('open');
                    setTimeout(() => {
                        overlay.style.display = 'none';
                        document.body.style.overflow = '';
                    }, 300);
                }
            }

            setupQuickActions() {
                const actions = [
                    { id: 'addBookmarkBtn', handler: () => this.showAddBookmarkModal() },
                    { id: 'mobileAddBookmarkBtn', handler: () => this.showAddBookmarkModal() },
                    { id: 'importBtn', handler: () => this.importBookmarks() },
                    { id: 'mobileImportBtn', handler: () => this.importBookmarks() },
                    { id: 'exportBtn', handler: () => this.exportBookmarks() }
                ];

                actions.forEach(action => {
                    const element = document.getElementById(action.id);
                    if (element) {
                        element.addEventListener('click', action.handler);
                    }
                });
            }

            setupTouchGestures() {
                let startX = 0;
                let startY = 0;

                document.addEventListener('touchstart', (e) => {
                    startX = e.touches[0].clientX;
                    startY = e.touches[0].clientY;
                }, { passive: true });

                document.addEventListener('touchend', (e) => {
                    if (!startX || !startY) return;

                    const endX = e.changedTouches[0].clientX;
                    const endY = e.changedTouches[0].clientY;
                    const diffX = startX - endX;
                    const diffY = startY - endY;

                    // Swipe right to open categories (only on mobile)
                    if (window.innerWidth <= 768 && Math.abs(diffX) > Math.abs(diffY) && diffX < -100) {
                        this.openMobileCategories();
                    }

                    startX = 0;
                    startY = 0;
                }, { passive: true });
            }
            
            // Render categories in sidebar and mobile panel
            renderCategories() {
                const categoryList = document.getElementById('categoryList');
                const mobileCategoryList = document.getElementById('mobileCategoryList');
                const categories = this.getCategories();
                
                const categoryHTML = categories.map(category => {
                    const count = category === 'All' ? 
                        this.bookmarks.length : 
                        this.bookmarks.filter(b => b.category === category).length;
                    
                    return `
                        <li class="category-item">
                            <button class="category-button ${category === 'All' ? 'active' : ''}" 
                                    data-category="${category.toLowerCase()}">
                                <span>${category}</span>
                                <span class="category-count">${count}</span>
                            </button>
                        </li>
                    `;
                }).join('');

                if (categoryList) {
                    categoryList.innerHTML = categoryHTML;
                }
                if (mobileCategoryList) {
                    mobileCategoryList.innerHTML = categoryHTML;
                }
            }
            
            // Render bookmarks
            renderBookmarks() {
                const bookmarkGrid = document.getElementById('bookmarkGrid');
                const filteredBookmarks = this.getFilteredBookmarks();
                
                if (filteredBookmarks.length === 0) {
                    bookmarkGrid.innerHTML = `
                        <div style="grid-column: 1 / -1; text-align: center; padding: 3rem; color: var(--text-muted);">
                            <svg width="48" height="48" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1" style="margin-bottom: 1rem;">
                                <circle cx="11" cy="11" r="8"></circle>
                                <path d="m21 21-4.35-4.35"></path>
                            </svg>
                            <p>No bookmarks found</p>
                            <p style="font-size: 0.875rem; margin-top: 0.5rem;">Try adjusting your search or category filter</p>
                        </div>
                    `;
                    return;
                }
                
                bookmarkGrid.className = this.currentView === 'grid' ? 'bookmark-grid' : 'bookmark-list';
                
                bookmarkGrid.innerHTML = filteredBookmarks.map(bookmark => `
                    <div class="bookmark-card fade-in" data-id="${bookmark.id}">
                        <div class="bookmark-header">
                            <div class="bookmark-favicon">${bookmark.favicon}</div>
                            <div class="bookmark-info">
                                <h3 class="bookmark-title">${bookmark.title}</h3>
                                <p class="bookmark-url">${this.formatUrl(bookmark.url)}</p>
                            </div>
                        </div>
                        
                        <p class="bookmark-description">${bookmark.description}</p>
                        
                        <div class="bookmark-tags">
                            ${bookmark.tags.map(tag => `<span class="bookmark-tag">${tag}</span>`).join('')}
                        </div>
                        
                        <div class="bookmark-actions">
                            <span class="bookmark-date">${this.formatDate(bookmark.dateAdded)}</span>
                            <button class="bookmark-favorite ${bookmark.favorite ? 'active' : ''}" 
                                    data-id="${bookmark.id}" title="Toggle favorite">
                                <svg width="16" height="16" viewBox="0 0 24 24" fill="${bookmark.favorite ? 'currentColor' : 'none'}" stroke="currentColor" stroke-width="2">
                                    <polygon points="12,2 15.09,8.26 22,9.27 17,14.14 18.18,21.02 12,17.77 5.82,21.02 7,14.14 2,9.27 8.91,8.26"></polygon>
                                </svg>
                            </button>
                        </div>
                    </div>
                `).join('');
                
                // Add click listeners for bookmarks
                bookmarkGrid.addEventListener('click', (e) => {
                    const card = e.target.closest('.bookmark-card');
                    const favoriteBtn = e.target.closest('.bookmark-favorite');
                    
                    if (favoriteBtn) {
                        e.preventDefault();
                        this.toggleFavorite(favoriteBtn.dataset.id);
                    } else if (card && !favoriteBtn) {
                        const bookmark = this.bookmarks.find(b => b.id === card.dataset.id);
                        if (bookmark) {
                            this.openBookmark(bookmark);
                        }
                    }
                });
            }
            
            renderSocialMedia() {
                const socialGrid = document.getElementById('socialGrid');
                const socialPlatforms = [
                    { name: 'Facebook', url: 'https://facebook.com', color: '#1877F2', icon: 'fab fa-facebook-f' },
                    { name: 'Twitter', url: 'https://twitter.com', color: '#1DA1F2', icon: 'fab fa-twitter' },
                    { name: 'Instagram', url: 'https://instagram.com', color: '#E4405F', icon: 'fab fa-instagram' },
                    { name: 'LinkedIn', url: 'https://linkedin.com', color: '#0A66C2', icon: 'fab fa-linkedin-in' },
                    { name: 'YouTube', url: 'https://youtube.com', color: '#FF0000', icon: 'fab fa-youtube' },
                    { name: 'TikTok', url: 'https://tiktok.com', color: '#000000', icon: 'fab fa-tiktok' },
                    { name: 'Pinterest', url: 'https://pinterest.com', color: '#BD081C', icon: 'fab fa-pinterest-p' },
                    { name: 'Snapchat', url: 'https://snapchat.com', color: '#FFFC00', icon: 'fab fa-snapchat-ghost' },
                    { name: 'Reddit', url: 'https://reddit.com', color: '#FF4500', icon: 'fab fa-reddit-alien' },
                    { name: 'Discord', url: 'https://discord.com', color: '#5865F2', icon: 'fab fa-discord' },
                    { name: 'Twitch', url: 'https://twitch.tv', color: '#9146FF', icon: 'fab fa-twitch' },
                    { name: 'GitHub', url: 'https://github.com', color: '#181717', icon: 'fab fa-github' },
                    { name: 'Dribbble', url: 'https://dribbble.com', color: '#EA4C89', icon: 'fab fa-dribbble' },
                    { name: 'Behance', url: 'https://behance.net', color: '#1769FF', icon: 'fab fa-behance' },
                    { name: 'Medium', url: 'https://medium.com', color: '#000000', icon: 'fab fa-medium-m' },
                    { name: 'Slack', url: 'https://slack.com', color: '#4A154B', icon: 'fab fa-slack' },
                    { name: 'Zoom', url: 'https://zoom.us', color: '#2D8CFF', icon: 'fas fa-video' },
                    { name: 'Spotify', url: 'https://spotify.com', color: '#1DB954', icon: 'fab fa-spotify' },
                    { name: 'Netflix', url: 'https://netflix.com', color: '#E50914', icon: 'fas fa-play' },
                    { name: 'Amazon', url: 'https://amazon.com', color: '#FF9900', icon: 'fab fa-amazon' },
                    { name: 'Google', url: 'https://google.com', color: '#4285F4', icon: 'fab fa-google' },
                    { name: 'Apple', url: 'https://apple.com', color: '#000000', icon: 'fab fa-apple' },
                    { name: 'Microsoft', url: 'https://microsoft.com', color: '#00A4EF', icon: 'fab fa-microsoft' },
                    { name: 'WhatsApp', url: 'https://whatsapp.com', color: '#25D366', icon: 'fab fa-whatsapp' },
                    { name: 'Telegram', url: 'https://telegram.org', color: '#26A5E4', icon: 'fab fa-telegram-plane' },
                    { name: 'Signal', url: 'https://signal.org', color: '#3A76F0', icon: 'fas fa-shield-alt' },
                    { name: 'Skype', url: 'https://skype.com', color: '#00AFF0', icon: 'fab fa-skype' },
                    { name: 'Patreon', url: 'https://patreon.com', color: '#FF424D', icon: 'fab fa-patreon' },
                    { name: 'PayPal', url: 'https://paypal.com', color: '#0070ba', icon: 'fab fa-paypal' }
                ];
                
                socialGrid.innerHTML = socialPlatforms.map(platform => `
                    <a href="${platform.url}" 
                       class="social-link" 
                       target="_blank" 
                       rel="noopener noreferrer"
                       title="${platform.name}"
                       style="background-color: ${platform.color};">
                        <i class="${platform.icon}"></i>
                    </a>
                `).join('');
            }
            
            // Get filtered bookmarks based on search and category
            getFilteredBookmarks() {
                return this.bookmarks.filter(bookmark => {
                    const matchesCategory = this.currentCategory === 'all' || 
                        bookmark.category.toLowerCase() === this.currentCategory;
                    
                    const matchesSearch = !this.searchTerm || 
                        bookmark.title.toLowerCase().includes(this.searchTerm) ||
                        bookmark.description.toLowerCase().includes(this.searchTerm) ||
                        bookmark.tags.some(tag => tag.toLowerCase().includes(this.searchTerm)) ||
                        bookmark.url.toLowerCase().includes(this.searchTerm);
                    
                    return matchesCategory && matchesSearch;
                });
            }
            
            // Toggle bookmark favorite status
            toggleFavorite(bookmarkId) {
                const bookmark = this.bookmarks.find(b => b.id === bookmarkId);
                if (bookmark) {
                    bookmark.favorite = !bookmark.favorite;
                    this.saveBookmarks();
                    this.renderBookmarks();
                }
            }
            
            openBookmark(bookmark) {
                const tabKey = bookmark.url;
                
                // Check if tab is already open
                if (this.openedTabs.has(tabKey)) {
                    this.showNotification('This bookmark is already open in another tab', 'info');
                    return;
                }
                
                // Add to opened tabs set
                this.openedTabs.add(tabKey);
                
                // Remove from set after a delay to allow for new opens
                setTimeout(() => {
                    this.openedTabs.delete(tabKey);
                }, 2000);
                
                bookmark.visits = (bookmark.visits || 0) + 1;
                bookmark.lastVisited = new Date().toISOString();
                this.saveBookmarks();
                
                // Open in new tab
                const newTab = window.open(bookmark.url, '_blank', 'noopener,noreferrer');
                if (!newTab) {
                    this.showNotification('Please allow popups for this site', 'error');
                    this.openedTabs.delete(tabKey);
                }
            }
            
            // Update active category button
            updateActiveCategory(activeButton) {
                document.querySelectorAll('.category-button').forEach(btn => {
                    btn.classList.remove('active');
                });
                activeButton.classList.add('active');
            }
            
            // Update view control buttons
            updateViewControls() {
                document.querySelectorAll('.view-button').forEach(btn => {
                    btn.classList.remove('active');
                });
                document.getElementById(this.currentView + 'View').classList.add('active');
            }
            
            showAddBookmarkModal() {
                // Placeholder for add bookmark modal
                const url = prompt('Enter bookmark URL:');
                const title = prompt('Enter bookmark title:');
                const category = prompt('Enter category:') || 'General';
                
                if (url && title) {
                    this.addBookmark({ url, title, category });
                }
            }

            addBookmark(bookmark) {
                const newBookmark = {
                    id: Date.now().toString(),
                    title: bookmark.title,
                    url: bookmark.url,
                    category: bookmark.category,
                    description: bookmark.description || '',
                    tags: bookmark.tags || [],
                    dateAdded: new Date().toISOString(),
                    visits: 0,
                    favorite: false,
                    favicon: 'üîó'
                };
                
                this.bookmarks.push(newBookmark);
                this.saveBookmarks();
                this.renderCategories();
                this.renderBookmarks();
                this.showNotification('Bookmark added successfully!');
            }

            importBookmarks() {
                const input = document.createElement('input');
                input.type = 'file';
                input.accept = '.json';
                input.onchange = (e) => {
                    const file = e.target.files[0];
                    if (file) {
                        const reader = new FileReader();
                        reader.onload = (e) => {
                            try {
                                const importedBookmarks = JSON.parse(e.target.result);
                                this.bookmarks = [...this.bookmarks, ...importedBookmarks];
                                this.saveBookmarks();
                                this.renderCategories();
                                this.renderBookmarks();
                                this.showNotification(`Imported ${importedBookmarks.length} bookmarks!`);
                            } catch (error) {
                                this.showNotification('Error importing bookmarks', 'error');
                            }
                        };
                        reader.readAsText(file);
                    }
                };
                input.click();
            }

            exportBookmarks() {
                const dataStr = JSON.stringify(this.bookmarks, null, 2);
                const dataBlob = new Blob([dataStr], { type: 'application/json' });
                const url = URL.createObjectURL(dataBlob);
                const link = document.createElement('a');
                link.href = url;
                link.download = 'bookmarks-export.json';
                link.click();
                URL.revokeObjectURL(url);
                this.showNotification('Bookmarks exported successfully!');
            }

            showNotification(message, type = 'success') {
                // Simple notification system
                const notification = document.createElement('div');
                notification.style.cssText = `
                    position: fixed;
                    top: 20px;
                    right: 20px;
                    background: ${type === 'error' ? '#ef4444' : type === 'info' ? '#3b82f6' : '#10b981'};
                    color: white;
                    padding: 1rem 1.5rem;
                    border-radius: 8px;
                    z-index: 10000;
                    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
                    max-width: 300px;
                `;
                notification.textContent = message;
                document.body.appendChild(notification);
                
                setTimeout(() => {
                    notification.remove();
                }, 3000);
            }

            toggleTheme() {
                const currentTheme = document.documentElement.getAttribute('data-theme') || 'dark';
                const newTheme = currentTheme === 'dark' ? 'light' : 'dark';
                document.documentElement.setAttribute('data-theme', newTheme);
                localStorage.setItem('theme', newTheme);
                
                // Update theme toggle icon
                const themeToggle = document.getElementById('themeToggle');
                const icon = themeToggle.querySelector('svg');
                
                if (newTheme === 'light') {
                    icon.innerHTML = `
                        <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>
                    `;
                } else {
                    icon.innerHTML = `
                        <circle cx="12" cy="12" r="5"></circle>
                        <line x1="12" y1="1" x2="12" y2="3"></line>
                        <line x1="12" y1="21" x2="12" y2="23"></line>
                        <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
                        <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
                        <line x1="1" y1="12" x2="3" y2="12"></line>
                        <line x1="21" y1="12" x2="23" y2="12"></line>
                        <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
                        <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
                    `;
                }
                
                this.showNotification(`Switched to ${newTheme} theme`);
            }

            // Setup intersection observer for animations
            setupIntersectionObserver() {
                const observer = new IntersectionObserver((entries) => {
                    entries.forEach(entry => {
                        if (entry.isIntersecting) {
                            entry.target.classList.add('fade-in');
                        }
                    });
                }, { threshold: 0.1 });
                
                // Observe bookmark cards as they're added
                const observeCards = () => {
                    document.querySelectorAll('.bookmark-card:not(.fade-in)').forEach(card => {
                        observer.observe(card);
                    });
                };
                
                // Initial observation
                setTimeout(observeCards, 100);
                
                // Re-observe after renders
                const originalRenderBookmarks = this.renderBookmarks.bind(this);
                this.renderBookmarks = function() {
                    originalRenderBookmarks();
                    setTimeout(observeCards, 100);
                };
            }
            
            // Setup service worker for PWA functionality
            setupServiceWorker() {
                if ('serviceWorker' in navigator) {
                    const swCode = `
                        const CACHE_NAME = 'bookmark-manager-v1';
                        const urlsToCache = [
                            '/',
                            '/index.html'
                        ];
                        
                        self.addEventListener('install', event => {
                            event.waitUntil(
                                caches.open(CACHE_NAME)
                                    .then(cache => cache.addAll(urlsToCache))
                            );
                        });
                        
                        self.addEventListener('fetch', event => {
                            event.respondWith(
                                caches.match(event.request)
                                    .then(response => {
                                        if (response) {
                                            return response;
                                        }
                                        return fetch(event.request);
                                    })
                            );
                        });
                    `;
                    
                    const blob = new Blob([swCode], { type: 'application/javascript' });
                    const swUrl = URL.createObjectURL(blob);
                    
                    navigator.serviceWorker.register(swUrl)
                        .then(registration => {
                            console.log('ServiceWorker registration successful');
                        })
                        .catch(error => {
                            console.log('ServiceWorker registration failed');
                        });
                }
            }
            
            // Utility functions
            debounce(func, wait) {
                let timeout;
                return function executedFunction(...args) {
                    const later = () => {
                        clearTimeout(timeout);
                        func(...args);
                    };
                    clearTimeout(timeout);
                    timeout = setTimeout(later, wait);
                };
            }
            
            formatUrl(url) {
                try {
                    const urlObj = new URL(url);
                    return urlObj.hostname + urlObj.pathname;
                } catch {
                    return url;
                }
            }
            
            formatDate(dateString) {
                const date = new Date(dateString);
                const now = new Date();
                const diffTime = Math.abs(now - date);
                const diffDays = Math.ceil(diffTime / (1000 * 60 * 60 * 24));
                
                if (diffDays === 1) return 'Today';
                if (diffDays === 2) return 'Yesterday';
                if (diffDays <= 7) return `${diffDays} days ago`;
                if (diffDays <= 30) return `${Math.ceil(diffDays / 7)} weeks ago`;
                if (diffDays <= 365) return `${Math.ceil(diffDays / 30)} months ago`;
                return `${Math.ceil(diffDays / 365)} years ago`;
            }
        }
        
        // Initialize the application when DOM is loaded
        document.addEventListener('DOMContentLoaded', () => {
            new BookmarkManager();
        });
        
        // Add CSS animations
        const style = document.createElement('style');
        style.textContent = `
            @keyframes slideInRight {
                from {
                    transform: translateX(100%);
                    opacity: 0;
                }
                to {
                    transform: translateX(0);
                    opacity: 1;
                }
            }
            
            @keyframes slideOutRight {
                from {
                    transform: translateX(0);
                    opacity: 1;
                }
                to {
                    transform: translateX(100%);
                    opacity: 0;
                }
            }
        `;
        document.head.appendChild(style);
    </script>
</body>
</html>
